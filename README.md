# analyser

**Формулировка задачи**

Нужно написать анализатор файлов исходного кода на С++. Программа должна выводить дерево зависимостей и частоты включений файлов. Если найдены включения несуществующих файлов, то программа должна вывести пометку «(!)» после имени файла.
В директории с исходными кодами могут быть вложенные папки (то есть обход должен производиться рекурсивно). Файлы имеют расширения ".h" и ".cpp"

**Требования к выполнению задачи**

1. Задача выполняется на С++ (стандарт C++11 или выше);
2. Разрешается (и приветствуется) использование стандартной библиотеки языка С++ и библиотеки BOOST (если это необходимо);
3. Программа должна являться консольным приложением; 
4. Задача должна быть реализована с использованием принципов ООП, предусматривать обработку ошибок и комментарии к коду. Код должен быть гибким и расширяемым, однако решение при этом должно быть максимально простым. 
5. Программа должна собираться под Linux с помощью компилятора GCC или компилятора clang; 
6. Решение должно состоять из документа, описывающего реализацию, исходных кодов программы и исполняемого модуля. Приветствуется наличие дополнительных тестов.

**Решение**

Для реализации задачи выбрана библиотека Boost Wave, призванная решать связанные с препроцессингом задачи. За основу взят официальный пример, демонстрирующий возможности библиотеки:

https://github.com/boostorg/wave/tree/develop/samples/list_includes

Программа состоит из следующих компонентов:
1. Парсер командной строки (command_line_parser.h)
2. Непосредственно анализатор включений (include_analyser.h)
3. Класс, реализующий методы анализатора (trace_include_files.hpp)

На первом этапе парсер командной строки получает путь к исходным файлам и перечисленные через опцию -I пути для поиска заголовных файлов. Затем эти данные передаются в объект анализатора, который начинает рекурсивный обход заданной папки: если встречается .cpp файл, то анализатор приступает к его обработке. Каждое обнаруженное включение сразу же выводится в консоль, в соответствии с иерархией, при этом отсутствующий файл помечается знаком (!), отображаемым после имени файла.
